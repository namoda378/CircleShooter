# 루아베이직 - 중급 - 메모리 상태 변화
-----

### 변수는 메모리상의 공간을 가리킨다. 
   
   메모리는 컴퓨터 시스템상에서 값을 쓰고 읽을 수 있는 공간이다. 메모리는 정해진 크기가 있고 이 크기를 여러개의 칸으로 나누어 값들을 저장할 수 있다. 
   100칸짜리 메모리가 있다고 생각하고 아래의 한글로 된 코드를 보자.
   
   ```
      100 칸 중의 1째 칸을 A 라고 하겠으며, A 에 3 이라는 값을 저장하겠다. 

      A 에 있는 값을 5 로 바꾸겠다. 

      A 에 있는 값을 A 에 있는 값에 5 를 더한 것으로 바꾸겠다. 

      A 에 있는 값을 콘솔에 출력하겠다. 
   ```

   이 코드를 Lua 로 작성하면 아래와 같다. 

   ```lua 
      local a = 3
      a = 5
      a = a + 5
      print(a)
   ```

   변수를 메모리상의 몇번째 칸에 설정할지는 우리가 정하지 않는 다는 점을 눈여겨 보자. 변수의 이름만을 정하면 몇번째 칸에 값을 저장할 지는 인터프리터(Lua 코드를 실행하는 프로그램)가 결정한다. 

   변수를 메모리상에 저장할 때는 변수를 선언하는 키워드 local 에 변수명을 붙이고, 값을 지정하면 된다. 하지만 때로는 우리는 여러개의 서로 연관된 값을 한꺼번에 저장하고 관리하고 싶을 때가 있을 것이다. 

   ``` 
      a는 내가 마트에서 장봐야 되는 물품의 목록이다. 

      a의 첫번째 항목은 사과이다. 
      a의 두번째 항목은 비누이다. 
      ... 
   ```
   위의 내용으로 루아코드로 작성하면 아래와 같다. 
   
   ```lua 
      local a = {}

      a[1] = "apple"
      a[2] = "soap"
      ...
   ```
   Lua 에서는 우리가 `변수명\[숫자\] = 값` 과 같은 방식으로 어떤 값을 저장하면, 메모리 상에 비어있는 칸을 찾아서 알아서 값을 저장해주고, 나중에 같은 방식으로 해당 값을 다시 불러올 수도 있다. 이와 같은 쓰기 행위를 아래와 같이 작성하고 싶을 수도 있다. 
   ```
      A는 사과, 비누 를 포함하는 목록이다. 
   ```
   Lua로는 아래와 같이 작성한다. 
   ```lua 
      local a = {"apple","soap"}
   ```
   덧붙여서, 목록의 항목으로 또 다른 목록을 포함시킬 수도 있다. 
   ```lua 
      local a = {
         {"sprite","coke"},
         "apple",
         "soap"
      }
      
      print(a[1][2])
      -- 출력 : coke
   ```  
   목록은 여러모로 편리하지만, 때때로 우리는 목록에 저장되는 각 값에 의미를 부여하고 싶을 수도 있다. 숫자를 통해서 값을 불러오는 것은 꽤나 어려운 일이 될 수 있기 때문이다. 이를 많은 프로그램 언어에서는 "객체" 라고 부른다. 아래의 한글로된 코드를 보자 
   ```
      A는 객체이다. 

      A의 분류는 사람이다. 
      A는 나이가 30살이다. 
      A는 키가 180cm 이다.  
   ``` 
   이를 Lua 에서는 아래와 같이 작성한다. 
   ```lua
      local A = {}
      A.type = "human"
      A.age = 30
      A.height = 180

      print("A is a " .. A.type .. " and it's age is " .. A.age .. " and it is " .. A.height .. "cm tall")
   ```
   웃기게도, 목록과 객체는 완전히 같은 방식으로 선언한다. \(`local 변수명 = {}`\)
   이것은 Lua 만의 특징이라고 할 수 있는데, 그렇다면 객체는 일종의 목록인가? 그렇다고도 할 수 있겠다. 아래의 코드는 완전히 같은 코드이다. 
   ```lua
      local A = {}
      A["type"] = "human"
      A["age"] = 30
      A["height"] = 180

      print("A is a " .. A["type"] .. " and it's age is " .. A["age"] .. " and it is " .. A["height"] .. "cm tall")
   ```
   결국 숫자 리터럴 대신에 문자열 리터럴을 쓰는 것이 항목과 객체의 차이라고 볼 수 있겠다. 변수명에 객체를 할당하고 변수명과 항목명으로 값을 쓰고 읽을 수 있다. 

   여태까지의 내용을 통해서 이해하자면, 프로그램 코드가 하는 일은 3가지일 뿐이다. 

   1. 메모리상의 칸에 이름을 부여한다. 

   2. 칸에 값을 쓴다. 

   3. 칸에서 값을 읽는다. 

   하지만 딱 한 가지 언급 되지 않은 것이 있다.  

### 코드는 이름을 부여하고 쓰고, 읽는다. 그리고 연산한다. 

   앞에서 언급하지 않은 한가지는 "연산"이다. 